<app-pages-header [secondTitle]="dashboard?.name"></app-pages-header>

<form *ngIf="dashboardForm" [formGroup]="dashboardForm" (ngSubmit)="saveDashboard()">
  <mat-card id="card-edit-dashboard"
            class="mat-elevation-z8"
            fxLayout="row wrap"
            fxLayoutAlign="center center">

    <mat-card-content fxLayout="row wrap" fxLayoutAlign="center center" fxFlex="80">

      <h4 class="title" fxFlexAlign="start" fxFlex="100"> {{ 'General informations' | uppercase }} </h4>

      <app-input *ngFor="let field of formSteps[0].fields"
                 fxFlex="100"
                 [field]="field"
                 [formGroup]="dashboardForm">
      </app-input>

      <h4 class="title" fxFlexAlign="start" fxFlex="100"> {{ 'Users' | uppercase }} </h4>

      <mat-list role="list" *ngIf="dashboardUsers" fxFlex="100">
        <mat-list-item *ngFor="let user of dashboardUsers">
          <mat-icon class="prefix" color="primary">account_box</mat-icon>
          <div class="user"> {{user.firstname}} {{user.lastname}} ({{user.username | uppercase}})</div>
        </mat-list-item>
      </mat-list>
    </mat-card-content>

    <mat-card-actions fxFlex="80">
      <button mat-raised-button class="mat-elevation-z2" color="primary" type="submit">{{ 'Save' | uppercase}}</button>
    </mat-card-actions>

  </mat-card>
</form>
